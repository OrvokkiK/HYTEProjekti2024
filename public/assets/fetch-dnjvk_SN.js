const n=async(o,a={})=>{let t;try{const e=await fetch(o,a);if(!e.ok)throw e.status===401&&r(),new Error(`HTTP ${e.status} - ${e.statusText}`);t=await e.json()}catch(e){console.error("fetchData() error",e),t={}}return t};function r(){localStorage.removeItem("analysisModalShown"),localStorage.removeItem("user_id"),localStorage.removeItem("token"),localStorage.removeItem("loginTime"),alert("Kirjautumisesi on vanhentunut. Kirjaudu sisään uudelleen."),window.location.href="index.html"}export{n as f};
